<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <title>Portafolio ‚Äî Vladimir Acu√±a (Preview)</title>
  <style>
    :root{
      --bg: #070a12;
      --panel: rgba(255,255,255,.06);
      --panel2: rgba(255,255,255,.10);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.68);
      --muted2: rgba(255,255,255,.55);
      --border: rgba(255,255,255,.12);
      --shadow: 0 18px 50px rgba(0,0,0,.45);
      --radius: 18px;
      --radius2: 14px;
      --accent: #7dd3fc; /* cyan */
      --accent2:#a78bfa; /* violet */
      --ok:#34d399;
      --warn:#fbbf24;
      --bad:#fb7185;
      --max: 1120px;
    }

    @media (prefers-color-scheme: light){
      :root{
        --bg:#f6f7fb;
        --panel: rgba(0,0,0,.05);
        --panel2: rgba(0,0,0,.07);
        --text: rgba(0,0,0,.88);
        --muted: rgba(0,0,0,.62);
        --muted2: rgba(0,0,0,.52);
        --border: rgba(0,0,0,.12);
        --shadow: 0 18px 45px rgba(0,0,0,.12);
      }
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background: var(--bg);
      color:var(--text);
      line-height:1.55;
      overflow-x:hidden;
    }

    /* ===== Premium background (formal, subtle) ===== */
    .bg{
      position:fixed; inset:0; z-index:-2;
      background:
        radial-gradient(1100px 760px at 15% -10%, rgba(167,139,250,.30), transparent 58%),
        radial-gradient(1000px 760px at 85% 0%, rgba(125,211,252,.26), transparent 55%);
    }

    /* grid overlay (static) */
    .gridOverlay{
      position:fixed; inset:-2px; z-index:-1;
      background:
        linear-gradient(to right, rgba(255,255,255,.06) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255,255,255,.05) 1px, transparent 1px);
      background-size: 54px 54px;
      opacity: .18;
      transform: translateZ(0);
      mask-image: radial-gradient(800px 520px at 50% 20%, rgba(0,0,0,1), rgba(0,0,0,.25) 55%, transparent 72%);
      -webkit-mask-image: radial-gradient(800px 520px at 50% 20%, rgba(0,0,0,1), rgba(0,0,0,.25) 55%, transparent 72%);
      pointer-events:none;
    }

    /* noise overlay (tiny) */
    .noise{
      position:fixed; inset:0; z-index:-1;
      opacity:.05;
      pointer-events:none;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
    }

    a{color:inherit; text-decoration:none}
    a:hover{opacity:.94}

    .wrap{max-width:var(--max); margin:0 auto; padding:22px 18px 68px;}

    /* ===== Top bar ===== */
    .top{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:14px 14px; border:1px solid var(--border); border-radius:var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      position:sticky; top:10px; z-index:30;
    }

    .brand{display:flex; align-items:center; gap:12px; min-width: 260px;}
    .avatar{
      width:42px; height:42px; border-radius:16px;
      background: linear-gradient(135deg, rgba(125,211,252,.45), rgba(167,139,250,.45));
      border:1px solid var(--border);
      display:grid; place-items:center;
      font-weight:900;
      letter-spacing:.6px;
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
      position:relative;
      overflow:hidden;
    }
    .avatar:after{
      content:"";
      position:absolute; inset:-60% -40%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.30), transparent 45%);
      transform: rotate(18deg);
    }
    .brand h1{margin:0; font-size:14px; line-height:1.1}
    .brand p{margin:0; font-size:12px; color:var(--muted)}

    .right{display:flex; align-items:center; gap:10px; flex-wrap:wrap; justify-content:flex-end}

    .pill{
      padding:8px 10px; border:1px solid var(--border); border-radius:999px;
      background: rgba(255,255,255,.06);
      font-size:12px;
      display:flex; align-items:center; gap:8px;
    }
    .pill strong{font-weight:800}

    .btn{
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      padding:9px 11px;
      border-radius:999px;
      font-size:12px;
      display:inline-flex; align-items:center; gap:8px;
      cursor:pointer;
    }
    .btn:hover{background: rgba(255,255,255,.09); border-color: rgba(255,255,255,.20)}

    select{
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      color: var(--text);
      padding:9px 10px;
      border-radius:999px;
      font-size:12px;
      outline:none;
      cursor:pointer;
    }

    /* ===== Layout ===== */
    .grid{display:grid; grid-template-columns: 1.12fr .88fr; gap:16px; margin-top:16px;}
    @media (max-width: 920px){ .grid{grid-template-columns:1fr; } .brand{min-width:auto} .top{position:relative; top:auto;} }

    .card{
      border:1px solid var(--border);
      border-radius: var(--radius);
      background: rgba(255,255,255,.05);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      overflow:hidden;
      position:relative;
    }

    /* soft glow (static, no cursor tracking) */
    .card:before{
      content:"";
      position:absolute; inset:-1px;
      background:
        radial-gradient(520px 360px at 50% 20%, rgba(125,211,252,.12), transparent 55%),
        radial-gradient(520px 360px at 70% 45%, rgba(167,139,250,.10), transparent 58%);
      opacity:1;
      pointer-events:none;
    }

    .pad{padding:18px;}

    .kicker{font-size:12px; color:var(--muted); letter-spacing:.25px; text-transform:uppercase;}
    h2{margin:8px 0 10px; font-size:18px;}
    h3{margin:0 0 10px; font-size:14px;}
    p{margin:10px 0; color:var(--text)}
    .muted{color:var(--muted)}
    .muted2{color:var(--muted2)}

    .heroTitle{
      font-size:30px; line-height:1.12; margin:10px 0 10px; letter-spacing:-.6px;
    }
    @media (max-width:520px){ .heroTitle{font-size:24px} }

    .heroTitle span{
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      -webkit-background-clip:text; background-clip:text; color: transparent;
    }

    .badges{display:flex; flex-wrap:wrap; gap:8px; margin-top:10px}
    .badge{
      font-size:12px; padding:7px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      color: var(--muted);
    }

    .ctaRow{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;}
    .ctaPrimary{
      background: linear-gradient(135deg, rgba(125,211,252,.28), rgba(167,139,250,.22));
      border: 1px solid rgba(255,255,255,.18);
      color: var(--text);
    }

    .mini{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:10px;
      margin-top:14px;
    }
    @media (max-width:600px){ .mini{grid-template-columns:1fr} }

    .stat{
      border:1px solid var(--border);
      border-radius: var(--radius2);
      padding:12px;
      background: rgba(255,255,255,.05);
      position:relative;
      overflow:hidden;
    }
    .stat:after{
      content:"";
      position:absolute; inset:-40% -30%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.14), transparent 55%);
      transform: rotate(12deg);
      opacity:.75;
    }
    .stat .n{font-size:18px; font-weight:900; position:relative}
    .stat .l{font-size:12px; color:var(--muted); position:relative}

    /* ===== Project cards ===== */
    .projGrid{display:grid; grid-template-columns:1fr; gap:10px; margin-top:10px;}
    .proj{
      border:1px solid var(--border);
      border-radius: var(--radius2);
      padding:12px;
      background: rgba(255,255,255,.05);
      position:relative;
      overflow:hidden;
    }
    .proj:before{
      content:"";
      position:absolute; inset:-1px;
      background: radial-gradient(520px 320px at 50% 20%, rgba(125,211,252,.10), transparent 55%);
      opacity:1;
      pointer-events:none;
    }

    .projTop{display:flex; align-items:flex-start; justify-content:space-between; gap:10px;}
    .projTop h4{margin:0; font-size:14px}

    .chips{display:flex; flex-wrap:wrap; gap:7px; margin-top:8px}
    .chip{
      font-size:11px; padding:6px 9px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.05);
      color: var(--muted);
      display:inline-flex;
    }
    .links{display:flex; flex-wrap:wrap; gap:10px; margin-top:10px;}
    .link{font-size:12px; color:var(--text); opacity:.92}

    /* ===== Collapsibles ===== */
    details{
      border:1px solid var(--border);
      border-radius: var(--radius2);
      background: rgba(255,255,255,.04);
      padding:10px 12px;
      margin-top:10px;
    }
    details > summary{cursor:pointer; list-style:none; display:flex; align-items:center; justify-content:space-between; gap:10px;}
    details > summary::-webkit-details-marker{display:none}
    .caret{opacity:.7}

    /* ===== Tools ===== */
    .toolHeader{display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap}
    .toolSearch{
      width: min(360px, 100%);
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      color: var(--text);
      padding:10px 12px;
      border-radius: 999px;
      outline:none;
      font-size:12px;
    }
    .toolGroups{display:grid; gap:10px; margin-top:10px;}
    .group{
      border:1px solid var(--border);
      border-radius: var(--radius2);
      background: rgba(255,255,255,.05);
      padding:12px;
    }
    .groupTitle{display:flex; align-items:center; justify-content:space-between; gap:10px;}
    .groupTitle strong{font-size:12px}
    .count{font-size:11px; color:var(--muted)}

    /* ===== Articles ===== */
    .article{
      border:1px solid var(--border);
      border-radius: var(--radius2);
      background: rgba(255,255,255,.05);
      padding:12px;
    }

    /* ===== Modes: sections visible depending on data-modes ===== */
    [data-modes]{display:none}
    body[data-mode="summary"] [data-modes~="summary"],
    body[data-mode="recruiter"] [data-modes~="recruiter"],
    body[data-mode="deep"] [data-modes~="deep"]{display:block}

    .hr{height:1px; background: var(--border); margin:12px 0;}
    .note{font-size:12px; color:var(--muted)}

    footer{margin-top:18px; color:var(--muted); font-size:12px; text-align:center}

    @media print{
      .top, .no-print{display:none !important}
      body{background:#fff; color:#000}
      .card{box-shadow:none}
      .bg,.gridOverlay,.noise{display:none}
    }
  </style>
</head>
<body data-mode="recruiter" data-lang="es">

  <div class="bg" aria-hidden="true"></div>
  <div class="gridOverlay" aria-hidden="true"></div>

  <!-- Theme (no movement) -->
  <div class="no-print" style="position:fixed; right:16px; bottom:16px; z-index:80; display:flex; gap:8px; align-items:center">
    <span class="pill" style="gap:10px">
      <strong>Tema</strong>
      <select id="themeSelect" aria-label="Tema">
        <option value="ocean" selected>Ocean</option>
        <option value="violet">Violet</option>
        <option value="emerald">Emerald</option>
        <option value="mono">Mono</option>
        <option value="light">Light</option>
      </select>
    </span>
  </div>

  <div class="noise" aria-hidden="true"></div>

  <!--
    ‚úÖ Versi√≥n est√°tica (formal):
    - SIN spotlight por cursor
    - SIN tilt/rotaci√≥n
    - SIN animaciones al scroll
    - Solo cambio de paleta por tema (color)
  -->

  <div class="wrap">
    <div class="top no-print">
      <div class="brand">
        <div class="avatar" aria-hidden="true">VA</div>
        <div>
          <h1 id="name">Vladimir Acu√±a</h1>
          <p data-i18n="top.subtitle">Arquitecto de Software ¬∑ Modernizaci√≥n Legacy ¬∑ PHP/SQL Server</p>
        </div>
      </div>

      <div class="right">
        <a class="btn" id="btnEmail" href="#" rel="noopener">‚úâÔ∏è <span data-i18n="top.email">Email</span></a>
        <a class="btn" id="btnLinkedIn" href="#" target="_blank" rel="noopener">in <span data-i18n="top.linkedin">LinkedIn</span></a>
        <a class="btn" id="btnGitHub" href="#" target="_blank" rel="noopener">‚õ≠ <span data-i18n="top.github">GitHub</span></a>
        <a class="btn" id="btnGitLab" href="#" target="_blank" rel="noopener">‚ñ£ <span data-i18n="top.gitlab">GitLab</span></a>

        <span class="pill">
          <strong data-i18n="top.mode">Modo</strong>
          <select id="modeSelect" aria-label="Modo">
            <option value="summary">Resumen</option>
            <option value="recruiter" selected>Reclutador</option>
            <option value="deep">Profundo</option>
          </select>
        </span>

        <span class="pill">
          <strong data-i18n="top.lang">Idioma</strong>
          <select id="langSelect" aria-label="Idioma">
            <option value="es" selected>ES</option>
            <option value="en">EN</option>
          </select>
        </span>
      </div>
    </div>

    <div class="grid">

      <!-- LEFT -->
      <section class="card">
        <div class="pad">
          <div class="kicker" data-i18n="hero.kicker">Portafolio</div>
          <div class="heroTitle" data-i18n="hero.title">Modernizo sistemas legacy <span>sin frenar la operaci√≥n</span>.</div>
          <p class="muted" data-i18n="hero.subtitle">
            Arquitecto / Senior Full Stack (PHP + SQL Server) enfocado en rendimiento, estabilidad y evoluci√≥n progresiva.
            CI/CD, Docker y AWS cuando aporta valor.
          </p>

          <div class="badges" data-modes="recruiter deep">
            <span class="badge">14+ a√±os en plataforma cr√≠tica</span>
            <span class="badge">Modernizaci√≥n progresiva</span>
            <span class="badge">Rendimiento + estabilidad</span>
            <span class="badge">CI/CD + Docker + AWS</span>
          </div>

          <div class="ctaRow">
            <a class="btn ctaPrimary" href="#featured" data-i18n="hero.cta1">Ver proyectos clave</a>
            <a class="btn" href="#downloads" data-i18n="hero.cta2">Descargar CV / PDFs</a>
            <a class="btn" href="#contact" data-i18n="hero.cta3">Contacto r√°pido</a>
          </div>

          <div class="mini" data-modes="summary recruiter deep">
            <div class="stat">
              <div class="n">14+</div>
              <div class="l" data-i18n="stats.1">a√±os sosteniendo y evolucionando productos</div>
            </div>
            <div class="stat">
              <div class="n">Legacy ‚Üí Modern</div>
              <div class="l" data-i18n="stats.2">migraci√≥n progresiva sin downtime</div>
            </div>
            <div class="stat">
              <div class="n">CI/CD</div>
              <div class="l" data-i18n="stats.3">reproducible, documentado, auditable</div>
            </div>
          </div>

          <!-- SUMMARY MODE: one-screen proof + links -->
          <div class="hr" data-modes="summary"></div>
          <div data-modes="summary">
            <p class="muted" data-i18n="summary.pitch">
              Si buscas a alguien que entienda sistemas reales, los estabilice y los modernice por etapas, aqu√≠ est√° mi evidencia.
            </p>
            <div class="links">
              <a class="link" id="sumCv" href="#downloads">üìÑ <span data-i18n="summary.cv">CV</span></a>
              <a class="link" id="sumRec" href="#recommendation">‚úÖ <span data-i18n="summary.rec">Recomendaci√≥n</span></a>
              <a class="link" id="sumGit" href="#featured">üîó <span data-i18n="summary.work">Trabajo destacado</span></a>
            </div>
          </div>

          <!-- FEATURED PROJECTS -->
          <div class="hr" data-modes="recruiter deep"></div>
          <div id="featured" data-modes="recruiter deep">
            <h2 data-i18n="featured.title">Proyectos destacados</h2>
            <p class="muted" data-i18n="featured.subtitle">3 pruebas r√°pidas. El resto queda en ‚ÄúProfundo‚Äù.</p>
            <div class="projGrid" id="featuredList"></div>

            <details data-modes="deep">
              <summary>
                <span data-i18n="featured.more">M√°s proyectos (lista extendida)</span>
                <span class="caret">‚ñæ</span>
              </summary>
              <div class="projGrid" id="moreProjects"></div>
            </details>
          </div>

          <!-- TOOLS -->
          <div class="hr" data-modes="recruiter deep"></div>
          <div id="tools" data-modes="recruiter deep">
            <div class="toolHeader">
              <div>
                <h2 style="margin-bottom:4px" data-i18n="tools.title">Herramientas & Tecnolog√≠as</h2>
                <p class="muted" style="margin-top:0" data-i18n="tools.subtitle">Top 12 primero. Luego agrupado + buscador para no saturar.</p>
              </div>
              <input class="toolSearch" id="toolSearch" type="search" placeholder="Buscar herramienta..." aria-label="Buscar herramienta" />
            </div>

            <div class="chips" id="topTools"></div>

            <details open>
              <summary>
                <span data-i18n="tools.groups">Grupos (expandible)</span>
                <span class="caret">‚ñæ</span>
              </summary>
              <div class="toolGroups" id="toolGroups"></div>
              <p class="note" data-i18n="tools.note">Tip: en modo ‚ÄúReclutador‚Äù esto se mantiene compacto. En ‚ÄúProfundo‚Äù, se muestra completo.</p>
            </details>
          </div>

          <!-- ARTICLES -->
          <div class="hr" data-modes="recruiter deep"></div>
          <div id="articles" data-modes="recruiter deep">
            <h2 data-i18n="articles.title">Art√≠culos</h2>
            <p class="muted" data-i18n="articles.subtitle">Espacio para futuro: modernizaci√≥n legacy, CI/CD, AWS, operaci√≥n real.</p>
            <div id="articlesList" class="projGrid"></div>
          </div>

          <!-- DOWNLOADS -->
          <div class="hr" data-modes="recruiter deep"></div>
          <div id="downloads" data-modes="recruiter deep">
            <h2 data-i18n="downloads.title">Descargas</h2>
            <p class="muted" data-i18n="downloads.subtitle">Links directos a PDFs (CV, portafolio, recomendaci√≥n).</p>
            <div class="links">
              <a class="btn" id="dlCv" href="#" target="_blank" rel="noopener">üìÑ <span data-i18n="downloads.cv">CV (PDF)</span></a>
              <a class="btn" id="dlPortfolio" href="#" target="_blank" rel="noopener">üóÇÔ∏è <span data-i18n="downloads.portfolio">Portafolio (PDF)</span></a>
              <a class="btn" id="dlReco" href="#" target="_blank" rel="noopener">‚úÖ <span data-i18n="downloads.reco">Carta de recomendaci√≥n (PDF)</span></a>
            </div>
            <p class="note" data-i18n="downloads.note">* Si a√∫n no tienes el PDF subido, deja el link en # o apunta a /assets/archivo.pdf</p>
          </div>

          <!-- RECOMMENDATION -->
          <div class="hr" data-modes="recruiter deep"></div>
          <div id="recommendation" data-modes="recruiter deep">
            <h2 data-i18n="reco.title">Confianza / Referencias</h2>
            <div class="proj">
              <div class="projTop">
                <div>
                  <h4 data-i18n="reco.cardTitle">Carta de recomendaci√≥n</h4>
                  <p class="muted" style="margin:6px 0 0" data-i18n="reco.cardSub">Validaci√≥n formal del trabajo, impacto y confiabilidad. Disponible como PDF.</p>
                </div>
                <a class="btn" id="recoBtn" href="#" target="_blank" rel="noopener">‚úÖ <span data-i18n="reco.open">Abrir</span></a>
              </div>
              <ul class="muted" style="margin:10px 0 0; padding-left:18px">
                <li data-i18n="reco.b1">Participaci√≥n en sistemas productivos con continuidad operativa.</li>
                <li data-i18n="reco.b2">Responsabilidad, criterio t√©cnico y colaboraci√≥n con negocio.</li>
                <li data-i18n="reco.b3">Entrega consistente, orden y mejora continua.</li>
              </ul>
              <p class="note" data-i18n="reco.privacy">Nota: por privacidad, el tel√©fono de referencia se comparte a solicitud (con autorizaci√≥n).</p>
            </div>
          </div>

        </div>
      </section>

      <!-- RIGHT -->
      <aside class="card">
        <div class="pad">

          <div data-modes="recruiter deep">
            <div class="kicker" data-i18n="roles.kicker">Enfoque</div>
            <h2 data-i18n="roles.title">Roles objetivo</h2>
            <div class="chips" id="primaryRoles"></div>

            <details>
              <summary>
                <span data-i18n="roles.more">Ver roles secundarios</span>
                <span class="caret">‚ñæ</span>
              </summary>
              <div class="chips" id="secondaryRoles"></div>
            </details>
          </div>

          <div class="hr" data-modes="summary recruiter deep"></div>
          <div data-modes="summary recruiter deep">
            <div class="kicker" data-i18n="value.kicker">Qu√© aporto</div>
            <h2 data-i18n="value.title">Impacto t√≠pico</h2>
            <ul class="muted" style="margin:10px 0 0; padding-left:18px" id="impactList"></ul>
          </div>

          <div class="hr"></div>
          <div id="contact">
            <div class="kicker" data-i18n="contact.kicker">Contacto</div>
            <h2 data-i18n="contact.title">R√°pido y directo</h2>

            <div class="proj">
              <h4 style="margin:0 0 6px" data-i18n="contact.me">T√∫</h4>
              <div class="links">
                <a class="link" id="cEmail" href="#">‚úâÔ∏è <span data-i18n="contact.email">Email</span></a>
                <a class="link" id="cLinkedIn" href="#" target="_blank" rel="noopener">in <span data-i18n="contact.linkedin">LinkedIn</span></a>
                <a class="link" id="cGitHub" href="#" target="_blank" rel="noopener">‚õ≠ <span data-i18n="contact.github">GitHub</span></a>
                <a class="link" id="cGitLab" href="#" target="_blank" rel="noopener">‚ñ£ <span data-i18n="contact.gitlab">GitLab</span></a>
              </div>
            </div>

            <div class="proj" style="margin-top:10px">
              <div class="projTop">
                <div>
                  <h4 style="margin:0" data-i18n="contact.refTitle">Referencia profesional</h4>
                  <p class="muted" style="margin:6px 0 0" data-i18n="contact.refSub">Disponible para confirmar desempe√±o y colaboraci√≥n.</p>
                </div>
              </div>
              <div class="links" style="margin-top:10px">
                <a class="link" id="refLinkedIn" href="#" target="_blank" rel="noopener">in <span data-i18n="contact.refLinkedIn">LinkedIn (referencia)</span></a>
                <span class="link"><span data-i18n="contact.refPhone">Tel√©fono</span>: <span class="muted2" data-i18n="contact.refPhoneValue">a solicitud (con autorizaci√≥n)</span></span>
              </div>
              <p class="note" data-i18n="contact.refNote">Si necesitas el n√∫mero para verificaci√≥n r√°pida, te lo comparto por correo.</p>
            </div>

            <div class="ctaRow" style="margin-top:12px">
              <a class="btn ctaPrimary" id="btnMail2" href="#">‚úâÔ∏è <span data-i18n="contact.cta">Escr√≠beme</span></a>
              <button class="btn" onclick="window.print()">üñ®Ô∏è <span data-i18n="contact.print">Imprimir / PDF</span></button>
            </div>
          </div>

          <div class="hr" data-modes="deep"></div>
          <div data-modes="deep">
            <div class="kicker" data-i18n="deep.kicker">Profundo</div>
            <p class="muted" data-i18n="deep.note">En esta vista puedes agregar: servicios, m√°s casos, timeline detallado, im√°genes, m√©tricas, etc. (sin ensuciar el home).</p>
          </div>

        </div>
      </aside>

    </div>

    <footer class="no-print">
      <div class="muted">¬© <span id="year"></span> ¬∑ <span data-i18n="footer">Portafolio (preview). Edita y publica en GitHub Pages.</span></div>
    </footer>
  </div>

  <script>
    // ====== CONFIG (EDITA ESTO) ======
    const CONFIG = {
      name: "Vladimir Acu√±a",
      email: "mailto:TU_EMAIL@DOMINIO.COM", // ‚Üê cambia esto
      linkedin: "https://www.linkedin.com/in/TU_PERFIL", // ‚Üê cambia esto
      github: "https://github.com/vladimiracunadev-create",
      gitlab: "https://gitlab.com/vladimir.acuna.dev-group/proyectos-aws-gitlab",

      // PDFs (recomendaci√≥n: s√∫belos a /assets/ y apunta aqu√≠)
      pdf_cv: "#",            // e.g. "assets/CV_Vladimir_Acuna.pdf"
      pdf_portfolio: "#",     // e.g. "assets/Portafolio_Vladimir_Acuna.pdf"
      pdf_reco: "#",          // e.g. "assets/Carta_Recomendacion.pdf"

      // Referencia (ideal: LinkedIn + tel√©fono a solicitud)
      ref_linkedin: "#"       // e.g. "https://www.linkedin.com/in/NombreReferencia"
    };

    // ====== DATA ======
    const DATA = {
      rolesPrimary: [
        { es: "Arquitecto Modernizaci√≥n Legacy", en: "Legacy Modernization Architect" },
        { es: "Tech Lead (Migraciones / Performance)", en: "Tech Lead (Migrations / Performance)" },
        { es: "Platform / Dev Productivity", en: "Platform / Dev Productivity" },
        { es: "SRE Apps (Rendimiento/Operaci√≥n)", en: "App SRE (Performance/Operations)" }
      ],
      rolesSecondary: [
        { es: "Full Stack Senior (PHP/JS)", en: "Senior Full Stack (PHP/JS)" },
        { es: "Arquitectura de Datos / Reporting", en: "Data/Reporting Architecture" },
        { es: "Automatizaci√≥n (n8n / scripts)", en: "Automation (n8n / scripts)" },
        { es: "Cloud (AWS) ‚Äî pr√°ctico", en: "Cloud (AWS) ‚Äî hands-on" }
      ],
      impact: [
        { es: "Diagn√≥stico r√°pido de sistemas complejos (legacy + negocio)", en: "Fast diagnosis of complex systems (legacy + business)" },
        { es: "Mejoras de rendimiento (DB + app) sin romper continuidad", en: "Performance improvements (DB + app) without breaking continuity" },
        { es: "Modernizaci√≥n por etapas: orden, pruebas, CI/CD, despliegues", en: "Step-by-step modernization: structure, tests, CI/CD, deployments" },
        { es: "Automatizaci√≥n de operaci√≥n y reporting (PDF/Excel/APIs)", en: "Operational automation and reporting (PDF/Excel/APIs)" }
      ],
      projectsFeatured: [
        {
          title: { es: "Bater√≠a Online (CEIS) ‚Äî caso real", en: "Bater√≠a Online (CEIS) ‚Äî real-world case" },
          blurb: { es: "Plataforma educativa/psicom√©trica. Continuidad operativa, estabilidad y evoluci√≥n progresiva.", en: "Educational/psychometric platform. Operational continuity, stability and progressive evolution." },
          bullets: {
            es: ["14 a√±os en operaci√≥n real", "Optimizaci√≥n performance y mantenibilidad", "Automatizaci√≥n: reporting y procesos"],
            en: ["14 years in real operations", "Performance and maintainability improvements", "Automation: reporting and processes"]
          },
          chips: ["PHP", "SQL Server", "Legacy", "Performance"],
          links: [
            { label: { es: "Detalle en Portafolio", en: "Portfolio details" }, href: "#downloads" }
          ]
        },
        {
          title: { es: "Docker Labs ‚Äî reproducibilidad", en: "Docker Labs ‚Äî reproducibility" },
          blurb: { es: "Laboratorios para levantar stacks y demostrar operaci√≥n + despliegue de forma repetible.", en: "Labs to run stacks and showcase repeatable ops + deployment." },
          bullets: {
            es: ["Stacks con Docker Compose", "Documentaci√≥n y scripts", "Base para CI/CD"],
            en: ["Docker Compose stacks", "Docs and scripts", "CI/CD-ready baseline"]
          },
          chips: ["Docker", "Compose", "CI/CD"],
          links: [
            { label: { es: "Repo GitHub", en: "GitHub repo" }, href: CONFIG.github }
          ]
        },
        {
          title: { es: "Monorepo AWS en GitLab ‚Äî aprendizaje guiado", en: "AWS Monorepo on GitLab ‚Äî guided learning" },
          blurb: { es: "Casos por nivel: S3, CI/CD, despliegues. Evidencia de pr√°ctica y disciplina.", en: "Level-based cases: S3, CI/CD, deployments. Evidence of hands-on practice and discipline." },
          bullets: {
            es: ["Casos por carpeta (roadmap)", "CI/CD GitLab", "Deploys y documentaci√≥n"],
            en: ["Case-by-folder roadmap", "GitLab CI/CD", "Deploys and documentation"]
          },
          chips: ["AWS", "GitLab CI", "S3"],
          links: [
            { label: { es: "Repo GitLab", en: "GitLab repo" }, href: CONFIG.gitlab }
          ]
        }
      ],
      projectsMore: [
        {
          title: { es: "Microsistemas ‚Äî herramientas peque√±as con impacto", en: "Microsystems ‚Äî small tools with impact" },
          blurb: { es: "Utilities enfocadas en productividad, soporte a legacy y automatizaci√≥n.", en: "Utilities focused on productivity, legacy support and automation." },
          chips: ["Tooling", "JS", "Productividad"],
          links: [ { label:{es:"GitHub", en:"GitHub"}, href: CONFIG.github } ]
        },
        {
          title: { es: "IA aplicada (apoyo, no reemplazo)", en: "Applied AI (support, not replacement)" },
          blurb: { es: "Uso pragm√°tico para acelerar an√°lisis, documentaci√≥n y prototipos con criterio t√©cnico.", en: "Pragmatic use to speed analysis, docs and prototypes with engineering judgment." },
          chips: ["LLMs", "Workflows"],
          links: [ { label:{es:"Notas/Art√≠culos", en:"Notes/Articles"}, href: "#articles" } ]
        }
      ],
      toolsTop: [
        "PHP", "JavaScript", "TypeScript", "SQL Server", "MySQL",
        "Docker", "GitHub Actions", "GitLab CI", "AWS (S3/CloudFront/Amplify)",
        "Linux/Bash", "Python", "Node.js"
      ],
      toolGroups: [
        { key:"backend", icon:"üß†", title:{es:"Backend", en:"Backend"}, items:["PHP 5.4‚Üí8.x", "Node/Express", "Python (FastAPI/Flask)", "APIs REST", "Integraciones"] },
        { key:"frontend", icon:"üñ•Ô∏è", title:{es:"Frontend", en:"Frontend"}, items:["HTML/CSS", "JS/TS", "PWAs", "UX pragm√°tico"] },
        { key:"db", icon:"üóÑÔ∏è", title:{es:"Bases de datos", en:"Databases"}, items:["SQL Server", "MySQL", "Optimizaci√≥n", "Reporting", "Migraciones"] },
        { key:"devops", icon:"‚öôÔ∏è", title:{es:"DevOps", en:"DevOps"}, items:["Docker", "CI/CD", "Git", "Entornos reproducibles"] },
        { key:"cloud", icon:"‚òÅÔ∏è", title:{es:"Cloud", en:"Cloud"}, items:["AWS S3", "CloudFront", "Amplify", "Lambda", "DynamoDB (b√°sico)"] },
        { key:"automation", icon:"üß©", title:{es:"Automatizaci√≥n", en:"Automation"}, items:["n8n", "Schedulers", "Scripts", "PDF/Excel automation"] }
      ],
      articles: []
    };

    // ====== i18n ======
    const I18N = {
      es: {
        "top.subtitle": "Arquitecto de Software ¬∑ Modernizaci√≥n Legacy ¬∑ PHP/SQL Server",
        "top.email":"Email",
        "top.linkedin":"LinkedIn",
        "top.github":"GitHub",
        "top.gitlab":"GitLab",
        "top.mode":"Modo",
        "top.lang":"Idioma",

        "hero.kicker":"Portafolio",
        "hero.title":"Modernizo sistemas legacy sin frenar la operaci√≥n.",
        "hero.subtitle":"Arquitecto / Senior Full Stack (PHP + SQL Server) enfocado en rendimiento, estabilidad y evoluci√≥n progresiva. CI/CD, Docker y AWS cuando aporta valor.",
        "hero.cta1":"Ver proyectos clave",
        "hero.cta2":"Descargar CV / PDFs",
        "hero.cta3":"Contacto r√°pido",

        "stats.1":"a√±os sosteniendo y evolucionando productos",
        "stats.2":"migraci√≥n progresiva sin downtime",
        "stats.3":"reproducible, documentado, auditable",

        "summary.pitch":"Si buscas a alguien que entienda sistemas reales, los estabilice y los modernice por etapas, aqu√≠ est√° mi evidencia.",
        "summary.cv":"CV",
        "summary.rec":"Recomendaci√≥n",
        "summary.work":"Trabajo destacado",

        "featured.title":"Proyectos destacados",
        "featured.subtitle":"3 pruebas r√°pidas. El resto queda en ‚ÄúProfundo‚Äù.",
        "featured.more":"M√°s proyectos (lista extendida)",

        "tools.title":"Herramientas & Tecnolog√≠as",
        "tools.subtitle":"Top 12 primero. Luego agrupado + buscador para no saturar.",
        "tools.groups":"Grupos (expandible)",
        "tools.note":"Tip: en modo ‚ÄúReclutador‚Äù esto se mantiene compacto. En ‚ÄúProfundo‚Äù, se muestra completo.",

        "articles.title":"Art√≠culos",
        "articles.subtitle":"Espacio para futuro: modernizaci√≥n legacy, CI/CD, AWS, operaci√≥n real.",

        "downloads.title":"Descargas",
        "downloads.subtitle":"Links directos a PDFs (CV, portafolio, recomendaci√≥n).",
        "downloads.cv":"CV (PDF)",
        "downloads.portfolio":"Portafolio (PDF)",
        "downloads.reco":"Carta de recomendaci√≥n (PDF)",
        "downloads.note":"* Si a√∫n no tienes el PDF subido, deja el link en # o apunta a /assets/archivo.pdf",

        "reco.title":"Confianza / Referencias",
        "reco.cardTitle":"Carta de recomendaci√≥n",
        "reco.cardSub":"Validaci√≥n formal del trabajo, impacto y confiabilidad. Disponible como PDF.",
        "reco.open":"Abrir",
        "reco.b1":"Participaci√≥n en sistemas productivos con continuidad operativa.",
        "reco.b2":"Responsabilidad, criterio t√©cnico y colaboraci√≥n con negocio.",
        "reco.b3":"Entrega consistente, orden y mejora continua.",
        "reco.privacy":"Nota: por privacidad, el tel√©fono de referencia se comparte a solicitud (con autorizaci√≥n).",

        "roles.kicker":"Enfoque",
        "roles.title":"Roles objetivo",
        "roles.more":"Ver roles secundarios",

        "value.kicker":"Qu√© aporto",
        "value.title":"Impacto t√≠pico",

        "contact.kicker":"Contacto",
        "contact.title":"R√°pido y directo",
        "contact.me":"T√∫",
        "contact.email":"Email",
        "contact.linkedin":"LinkedIn",
        "contact.github":"GitHub",
        "contact.gitlab":"GitLab",
        "contact.refTitle":"Referencia profesional",
        "contact.refSub":"Disponible para confirmar desempe√±o y colaboraci√≥n.",
        "contact.refLinkedIn":"LinkedIn (referencia)",
        "contact.refPhone":"Tel√©fono",
        "contact.refPhoneValue":"a solicitud (con autorizaci√≥n)",
        "contact.refNote":"Si necesitas el n√∫mero para verificaci√≥n r√°pida, te lo comparto por correo.",
        "contact.cta":"Escr√≠beme",
        "contact.print":"Imprimir / PDF",

        "deep.kicker":"Profundo",
        "deep.note":"En esta vista puedes agregar: servicios, m√°s casos, timeline detallado, im√°genes, m√©tricas, etc. (sin ensuciar el home).",

        "footer":"Portafolio (preview). Edita y publica en GitHub Pages."
      },
      en: {
        "top.subtitle": "Software Architect ¬∑ Legacy Modernization ¬∑ PHP/SQL Server",
        "top.email":"Email",
        "top.linkedin":"LinkedIn",
        "top.github":"GitHub",
        "top.gitlab":"GitLab",
        "top.mode":"Mode",
        "top.lang":"Language",

        "hero.kicker":"Portfolio",
        "hero.title":"I modernize legacy systems without disrupting operations.",
        "hero.subtitle":"Senior Full Stack / Software Architect (PHP + SQL Server) focused on performance, stability and progressive modernization. CI/CD, Docker and AWS when it adds real value.",
        "hero.cta1":"See key projects",
        "hero.cta2":"Download CV / PDFs",
        "hero.cta3":"Quick contact",

        "stats.1":"years maintaining and evolving products",
        "stats.2":"step-by-step migration without downtime",
        "stats.3":"repeatable, documented, auditable",

        "summary.pitch":"If you need someone who understands real systems, stabilizes them, and modernizes them step-by-step, here‚Äôs the evidence.",
        "summary.cv":"CV",
        "summary.rec":"Recommendation",
        "summary.work":"Featured work",

        "featured.title":"Featured projects",
        "featured.subtitle":"3 quick proofs. Everything else goes to ‚ÄúDeep‚Äù.",
        "featured.more":"More projects (extended list)",

        "tools.title":"Tools & Technologies",
        "tools.subtitle":"Top 12 first. Then grouped + searchable to avoid clutter.",
        "tools.groups":"Groups (expandable)",
        "tools.note":"Tip: in ‚ÄúRecruiter‚Äù mode this stays compact. In ‚ÄúDeep‚Äù, it shows more.",

        "articles.title":"Articles",
        "articles.subtitle":"Future space: legacy modernization, CI/CD, AWS, real operations.",

        "downloads.title":"Downloads",
        "downloads.subtitle":"Direct links to PDFs (CV, portfolio, recommendation).",
        "downloads.cv":"CV (PDF)",
        "downloads.portfolio":"Portfolio (PDF)",
        "downloads.reco":"Recommendation letter (PDF)",
        "downloads.note":"* If you haven‚Äôt uploaded the PDF yet, keep the link as # or point to /assets/file.pdf",

        "reco.title":"Trust / References",
        "reco.cardTitle":"Recommendation letter",
        "reco.cardSub":"Formal validation of work, impact and reliability. Available as PDF.",
        "reco.open":"Open",
        "reco.b1":"Work on production systems with operational continuity.",
        "reco.b2":"Responsibility, engineering judgment and business collaboration.",
        "reco.b3":"Consistent delivery, organization and continuous improvement.",
        "reco.privacy":"Note: for privacy, the reference phone number is shared upon request (with authorization).",

        "roles.kicker":"Focus",
        "roles.title":"Target roles",
        "roles.more":"See secondary roles",

        "value.kicker":"What I deliver",
        "value.title":"Typical impact",

        "contact.kicker":"Contact",
        "contact.title":"Fast and direct",
        "contact.me":"You",
        "contact.email":"Email",
        "contact.linkedin":"LinkedIn",
        "contact.github":"GitHub",
        "contact.gitlab":"GitLab",
        "contact.refTitle":"Professional reference",
        "contact.refSub":"Available to confirm performance and collaboration.",
        "contact.refLinkedIn":"LinkedIn (reference)",
        "contact.refPhone":"Phone",
        "contact.refPhoneValue":"upon request (with authorization)",
        "contact.refNote":"If you need the number for fast verification, I‚Äôll share it by email.",
        "contact.cta":"Email me",
        "contact.print":"Print / PDF",

        "deep.kicker":"Deep",
        "deep.note":"In this view you can add: services, more cases, detailed timeline, images, metrics, etc. (without cluttering the home).",

        "footer":"Portfolio (preview). Edit and publish on GitHub Pages."
      }
    };

    // ====== Helpers ======
    const $ = (s, r=document) => r.querySelector(s);
    const $$ = (s, r=document) => Array.from(r.querySelectorAll(s));

    function setLinks(){
      $("#name").textContent = CONFIG.name;
      $("#btnEmail").href = CONFIG.email;
      $("#btnLinkedIn").href = CONFIG.linkedin;
      $("#btnGitHub").href = CONFIG.github;
      $("#btnGitLab").href = CONFIG.gitlab;

      $("#cEmail").href = CONFIG.email;
      $("#cLinkedIn").href = CONFIG.linkedin;
      $("#cGitHub").href = CONFIG.github;
      $("#cGitLab").href = CONFIG.gitlab;
      $("#btnMail2").href = CONFIG.email;

      $("#refLinkedIn").href = CONFIG.ref_linkedin;

      $("#dlCv").href = CONFIG.pdf_cv;
      $("#dlPortfolio").href = CONFIG.pdf_portfolio;
      $("#dlReco").href = CONFIG.pdf_reco;
      $("#recoBtn").href = CONFIG.pdf_reco;
    }

    function t(lang, key){
      return (I18N[lang] && I18N[lang][key]) ? I18N[lang][key] : key;
    }

    function applyI18n(lang){
      document.documentElement.lang = lang;
      document.body.dataset.lang = lang;
      $$('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        el.textContent = t(lang, key);
      });
      $("#toolSearch").placeholder = lang === "es" ? "Buscar herramienta..." : "Search tool...";

      renderRoles(lang);
      renderImpact(lang);
      renderProjects(lang);
      renderTools(lang);
      renderArticles(lang);
    }

    function renderRoles(lang){
      const primary = $("#primaryRoles");
      const secondary = $("#secondaryRoles");
      primary.innerHTML = "";
      secondary.innerHTML = "";

      DATA.rolesPrimary.forEach(r => {
        const s = document.createElement('span');
        s.className = 'chip';
        s.textContent = r[lang];
        primary.appendChild(s);
      });
      DATA.rolesSecondary.forEach(r => {
        const s = document.createElement('span');
        s.className = 'chip';
        s.textContent = r[lang];
        secondary.appendChild(s);
      });
    }

    function renderImpact(lang){
      const ul = $("#impactList");
      ul.innerHTML = "";
      DATA.impact.forEach(x => {
        const li = document.createElement('li');
        li.textContent = x[lang];
        ul.appendChild(li);
      });
    }

    function escapeHtml(s){
      return String(s)
        .replaceAll('&','&amp;')
        .replaceAll('<','&lt;')
        .replaceAll('>','&gt;')
        .replaceAll('"','&quot;')
        .replaceAll("'","&#039;");
    }

    function projectCard(p, lang){
      const div = document.createElement('div');
      div.className = 'proj';

      const title = p.title?.[lang] ?? '';
      const blurb = p.blurb?.[lang] ?? '';
      const bullets = p.bullets?.[lang] ?? [];

      div.innerHTML = `
        <div class="projTop">
          <div>
            <h4>${escapeHtml(title)}</h4>
            <p class="muted" style="margin:6px 0 0">${escapeHtml(blurb)}</p>
          </div>
        </div>
        ${bullets.length ? `<ul class="muted" style="margin:10px 0 0; padding-left:18px">${bullets.map(b=>`<li>${escapeHtml(b)}</li>`).join('')}</ul>` : ''}
        <div class="chips">${(p.chips||[]).map(c=>`<span class="chip">${escapeHtml(c)}</span>`).join('')}</div>
        <div class="links">${(p.links||[]).map(l=>`<a class="link" href="${l.href}" target="${String(l.href).startsWith('#') ? '' : '_blank'}" rel="noopener">‚Üó ${escapeHtml(l.label[lang])}</a>`).join('')}</div>
      `;
      return div;
    }

    function renderProjects(lang){
      const featured = $("#featuredList");
      const more = $("#moreProjects");
      featured.innerHTML = "";
      more.innerHTML = "";

      DATA.projectsFeatured.forEach(p => featured.appendChild(projectCard(p, lang)));

      DATA.projectsMore.forEach(p => {
        const div = document.createElement('div');
        div.className = 'proj';
        div.innerHTML = `
          <div class="projTop">
            <div>
              <h4>${escapeHtml(p.title[lang])}</h4>
              <p class="muted" style="margin:6px 0 0">${escapeHtml(p.blurb[lang])}</p>
            </div>
          </div>
          <div class="chips">${(p.chips||[]).map(c=>`<span class="chip">${escapeHtml(c)}</span>`).join('')}</div>
          <div class="links">${(p.links||[]).map(l=>`<a class="link" href="${l.href}" target="_blank" rel="noopener">‚Üó ${escapeHtml(l.label[lang])}</a>`).join('')}</div>
        `;
        more.appendChild(div);
      });

      // Summary links
      $("#sumCv").href = "#downloads";
      $("#sumRec").href = "#recommendation";
      $("#sumGit").href = "#featured";
    }

    function renderTools(lang){
      const top = $("#topTools");
      const groups = $("#toolGroups");
      top.innerHTML = "";
      groups.innerHTML = "";

      DATA.toolsTop.forEach(x => {
        const s = document.createElement('span');
        s.className = 'chip';
        s.textContent = x;
        s.dataset.tool = x.toLowerCase();
        top.appendChild(s);
      });

      DATA.toolGroups.forEach(g => {
        const div = document.createElement('div');
        div.className = 'group';
        const title = g.title[lang];
        div.innerHTML = `
          <div class="groupTitle">
            <strong>${g.icon} ${escapeHtml(title)}</strong>
            <span class="count">${g.items.length}</span>
          </div>
          <div class="chips" style="margin-top:10px">
            ${g.items.map(x => `<span class="chip" data-tool="${escapeHtml(x.toLowerCase())}">${escapeHtml(x)}</span>`).join('')}
          </div>
        `;
        groups.appendChild(div);
      });
    }

    function renderArticles(lang){
      const list = $("#articlesList");
      list.innerHTML = "";

      if (!DATA.articles.length){
        const div = document.createElement('div');
        div.className = 'article';
        div.innerHTML = `
          <h4 style="margin:0 0 6px">${lang === 'es' ? 'Pr√≥ximamente' : 'Coming soon'}</h4>
          <p class="muted" style="margin:0">${lang === 'es'
            ? 'Aqu√≠ aparecer√°n art√≠culos y notas t√©cnicas. Mantengo esta secci√≥n lista para publicar sin recargar el home.'
            : 'Articles and technical notes will appear here. This section is ready without cluttering the homepage.'}</p>
          <div class="chips" style="margin-top:10px">
            <span class="chip">Legacy</span>
            <span class="chip">CI/CD</span>
            <span class="chip">AWS</span>
            <span class="chip">Performance</span>
          </div>
        `;
        list.appendChild(div);
        return;
      }

      DATA.articles.slice(0, 3).forEach(a => {
        const div = document.createElement('div');
        div.className = 'article';
        div.innerHTML = `
          <div class="projTop">
            <div>
              <h4 style="margin:0">${escapeHtml(a.title[lang])}</h4>
              <p class="muted" style="margin:6px 0 0">${escapeHtml(a.desc[lang])}</p>
            </div>
            <a class="btn" href="${a.href}" target="_blank" rel="noopener">‚Üó</a>
          </div>
          <div class="chips" style="margin-top:10px">
            <span class="chip">${a.date}</span>
            ${(a.tags||[]).map(t=>`<span class="chip">${escapeHtml(t)}</span>`).join('')}
          </div>
        `;
        list.appendChild(div);
      });
    }

    // ====== MODE + LANG ======
    function setMode(mode){
      document.body.dataset.mode = mode;
      localStorage.setItem('va_mode', mode);
    }

    function setLang(lang){
      localStorage.setItem('va_lang', lang);
      applyI18n(lang);
    }

    // ====== Tool search ======
    function wireToolSearch(){
      const input = $("#toolSearch");
      input.addEventListener('input', () => {
        const q = input.value.trim().toLowerCase();
        const all = $$('[data-tool]');
        if (!q){
          all.forEach(el => el.style.display = 'inline-flex');
          return;
        }
        all.forEach(el => {
          const v = (el.dataset.tool || '').toLowerCase();
          el.style.display = v.includes(q) ? 'inline-flex' : 'none';
        });
      });
    }

    // ====== Theme (no movement) ======
    function applyTheme(theme){
      const root = document.documentElement;
      root.dataset.theme = theme;
      const set = (k,v)=>root.style.setProperty(k,v);

      // reset light overrides (only needed when switching from light -> dark)
      const resetDark = () => {
        set('--panel', 'rgba(255,255,255,.06)');
        set('--panel2','rgba(255,255,255,.10)');
        set('--text','rgba(255,255,255,.92)');
        set('--muted','rgba(255,255,255,.68)');
        set('--muted2','rgba(255,255,255,.55)');
        set('--border','rgba(255,255,255,.12)');
        set('--shadow','0 18px 50px rgba(0,0,0,.45)');
        set('--bg','#070a12');
      };

      if (theme === 'violet'){
        resetDark();
        set('--accent', '#a78bfa');
        set('--accent2', '#7dd3fc');
      } else if (theme === 'emerald'){
        resetDark();
        set('--accent', '#34d399');
        set('--accent2', '#7dd3fc');
      } else if (theme === 'mono'){
        resetDark();
        set('--accent', 'rgba(255,255,255,.92)');
        set('--accent2', 'rgba(255,255,255,.60)');
      } else if (theme === 'light'){
        set('--bg', '#f6f7fb');
        set('--panel', 'rgba(0,0,0,.05)');
        set('--panel2', 'rgba(0,0,0,.07)');
        set('--text', 'rgba(0,0,0,.88)');
        set('--muted', 'rgba(0,0,0,.62)');
        set('--muted2', 'rgba(0,0,0,.52)');
        set('--border', 'rgba(0,0,0,.12)');
        set('--shadow', '0 18px 45px rgba(0,0,0,.12)');
        set('--accent', '#0ea5e9');
        set('--accent2', '#7c3aed');
      } else { // ocean default
        resetDark();
        set('--accent', '#7dd3fc');
        set('--accent2', '#a78bfa');
      }
    }

    // ====== Minimal self-tests (no UI impact) ======
    function runSelfTests(){
      const tests = [];
      const assert = (name, fn) => {
        try {
          fn();
          tests.push({ name, ok:true });
        } catch (e){
          tests.push({ name, ok:false, error: e });
        }
      };

      assert('Required DOM nodes exist', () => {
        ['#featuredList','#toolSearch','#langSelect','#modeSelect','#themeSelect'].forEach(sel => {
          if (!document.querySelector(sel)) throw new Error('Missing ' + sel);
        });
      });

      assert('Theme apply changes accent vars', () => {
        const root = document.documentElement;
        const before = getComputedStyle(root).getPropertyValue('--accent').trim();
        applyTheme('violet');
        const after = getComputedStyle(root).getPropertyValue('--accent').trim();
        if (!after || after === before) throw new Error('Accent did not change');
      });

      // Restore theme from storage (init will do this; this just avoids leaving violet)
      const storedTheme = localStorage.getItem('va_theme') || 'ocean';
      applyTheme(storedTheme);

      const failed = tests.filter(t => !t.ok);
      if (failed.length){
        console.warn('[SelfTests] Failed:', failed);
      } else {
        console.info('[SelfTests] OK:', tests.length);
      }
    }

    // ====== init ======
    (function init(){
      $('#year').textContent = new Date().getFullYear();
      setLinks();

      const storedMode = localStorage.getItem('va_mode');
      const storedLang = localStorage.getItem('va_lang');

      const modeSel = $('#modeSelect');
      const langSel = $('#langSelect');

      if (storedMode){
        modeSel.value = storedMode;
        setMode(storedMode);
      } else {
        setMode(modeSel.value);
      }

      if (storedLang){
        langSel.value = storedLang;
      }
      setLang(langSel.value);

      modeSel.addEventListener('change', e => setMode(e.target.value));
      langSel.addEventListener('change', e => setLang(e.target.value));

      wireToolSearch();

      const themeSel = document.getElementById('themeSelect');
      const storedTheme = localStorage.getItem('va_theme') || 'ocean';
      themeSel.value = storedTheme;
      applyTheme(storedTheme);
      themeSel.addEventListener('change', e => {
        localStorage.setItem('va_theme', e.target.value);
        applyTheme(e.target.value);
      });

      runSelfTests();
    })();
  </script>
</body>
</html>
